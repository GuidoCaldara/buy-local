function replaceProduct(productCard){
  const cardToReplace = document.querySelector('[data-product-id="<%= @product.id%>"]')
  cardToReplace.insertAdjacentHTML('beforebegin', productCard)
  cardToReplace.remove()
}

function dislpayErrors(form){
  const formContainer = document.querySelector('.store-dashboard-modal-body')
  formContainer.innerHTML = form
}

<% if @product.errors.any? %>
  dislpayErrors("<%= j render 'merchant/products/form', product: @product %>")
  initFormVariableFields()
<% else %>
  removeModal()
  replaceProduct("<%= j render 'merchant/products/product', product: @product %>")
<% end%>
